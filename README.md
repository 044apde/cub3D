# so_long – 2D 맵 기반 게임  

<img width="1214" alt="Screen Shot 2023-10-17 at 5 36 36 PM" src="https://github.com/044apde/cub3D/assets/59429612/1a822a79-0530-47d1-86d3-d8c8787c591f">  

## 개요
**so_long**은 42 과제 기반의 2D 게임 프로젝트입니다.  
MiniLibX를 사용하여 맵을 렌더링하고, 플레이어가 수집품을 모두 모은 뒤 출구로 탈출하는 것을 목표로 합니다.  
맵은 `.ber` 형식의 텍스트 파일로 제공되며, 프로그램 시작 시 유효성을 검사한 후 게임을 시작합니다.


## 기능 요약
### 1. 맵 유효성 검사
- 맵 문자는 `0, 1, C, E, P`만 허용
  - `0`: 빈 공간
  - `1`: 벽
  - `C`: 수집품
  - `E`: 출구
  - `P`: 플레이어 시작 위치
- 하나의 출구(`E`), 하나의 시작 위치(`P`), 최소 하나의 수집품(`C`) 포함
- 사각형 형태 유지, 비어있지 않아야 함
- 맵은 반드시 벽으로 둘러싸여 있어야 함
- BFS로 시작 지점에서 출구까지 이동 가능 여부 확인
- 맵 크기 제한: **최대 20 × 20**
- 확장자 `.ber` 검사, 형식 불일치 시 에러 종료
- 모든 유효성 검사 실패 시 `"Error ~"` 메시지와 함께 종료

### 2. 그래픽 관리
- MiniLibX 사용
- 타일 크기: 64 × 64
- 최대 창 크기: 1280 × 1280 (맵 크기에 따라 가변)
- 이미지 목록:
  - 플레이어(파란색)
  - 빈 공간(초록색)
  - 벽(갈색)
  - 수집품(노란색)
  - 출구(빨간색)
- ESC 키 또는 윈도우 종료 버튼 클릭 시 메모리 해제 후 종료
- 매끄러운 윈도우 관리 (창 전환, 최소화 등 대응)

### 3. 게임 규칙
- **목표**: 모든 수집품을 모은 후 출구로 이동
- **조작키**:
  - `W`: 위
  - `A`: 왼쪽
  - `S`: 아래
  - `D`: 오른쪽
- 플레이어는 벽을 통과할 수 없음
- 이동 시 이동 횟수를 Shell에 출력
- 2D Top-down 또는 Side-view 방식
- 실시간 반응 필수 아님


## 종료 처리
- `exit(0)`: 정상 종료
- `exit(1)`: 에러 종료
- 프로그램 종료 전 모든 동적 할당 해제 권장 (운영체제 종료 시 자동 해제되더라도 명시적 해제는 메모리 누수 방지 및 디버깅 용이)


## 빌드 방법
```bash
make
./so_long map.ber  
